<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TeknoFusion ‚Äî Website Canggih</title>
  <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="nav">
    <div class="brand">Tekno<span>Fusion</span></div>
    <nav class="nav-links">
      <a href="#features">Fitur</a>
      <a href="#demo">Demo</a>
      <a href="#about">Tentang</a>
      <a href="#contact">Kontak</a>
    </nav>
    <div class="controls">
      <button id="themeToggle" aria-label="Toggle dark mode">üåô</button>
    </div>
  </header>

  <main>
    <section class="hero" id="home">
      <div class="hero-content">
        <h1>Website canggih ‚Äî penuh teknologi terbaru</h1>
        <p>Menggabungkan WebGL, animasi CSS modern, design system yang responsif, dan interaksi realtime kecil tanpa backend.</p>
        <div class="cta">
          <a class="btn" href="#demo">Coba Demo</a>
          <a class="btn ghost" href="#features">Lihat Fitur</a>
        </div>
      </div>

      <div class="hero-canvas">
        <canvas id="glCanvas"></canvas>
      </div>
    </section>

    <section id="features" class="features">
      <h2>Fitur Utama</h2>
      <div class="grid">
        <article class="card">
          <h3>WebGL Interactive</h3>
          <p>Visual 3D interaktif (Three.js) - rotasi, zoom, dan efek wireframe/particles.</p>
        </article>
        <article class="card">
          <h3>Dark Mode & Prefers-Color-Scheme</h3>
          <p>Otomatis mengikuti preferensi sistem, plus tombol toggle manual.</p>
        </article>
        <article class="card">
          <h3>Design System</h3>
          <p>Variabel CSS, token warna, dan komponen yang bisa dipakai ulang.</p>
        </article>
        <article class="card">
          <h3>Animasi Halus</h3>
          <p>Transition, transform, dan micro-interactions untuk pengalaman modern.</p>
        </article>
      </div>
    </section>

    <section id="demo" class="demo">
      <h2>Demo Interaktif</h2>
      <p>Gunakan mouse (atau sentuh) untuk memutar objek 3D. Tekan tombol di bawah untuk mengubah mode render.</p>
      <div class="demo-controls">
        <button id="toggleMode">Ubah Mode</button>
        <button id="screenshot">Ambil Screenshot</button>
      </div>
    </section>

    <section id="about" class="about">
      <h2>Tentang Proyek</h2>
      <p>Template ini dibuat sebagai starting point ‚Äî ringan, modern, dan mudah dikustomisasi. Cocok untuk portofolio teknis, landing page produk teknologi, atau presentasi proyek R&D.</p>
    </section>

    <section id="contact" class="contact">
      <h2>Kontak</h2>
      <form class="contact-form" onsubmit="return false;">
        <label>
          Nama
          <input type="text" name="name" placeholder="Nama Anda" />
        </label>
        <label>
          Email
          <input type="email" name="email" placeholder="email@contoh.com" />
        </label>
        <label>
          Pesan
          <textarea name="message" rows="4" placeholder="Tulis pesan..."></textarea>
        </label>
        <div class="form-actions">
          <button class="btn" onclick="alert('Form ini demo ‚Äî tambahkan backend untuk kirim pesan')">Kirim</button>
        </div>
      </form>
    </section>
  </main>

  <footer class="footer">
    <div>¬© <span id="year"></span> Premium Desain‚Äî Built with modern web tech</div>
  </footer>

  <script src="https://unpkg.com/three@0.154.0/build/three.min.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const themeToggle = document.getElementById('themeToggle');
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const saved = localStorage.getItem('site-theme');
    if (!saved) document.documentElement.classList.toggle('dark', prefersDark);
    else document.documentElement.classList.toggle('dark', saved === 'dark');

    themeToggle.addEventListener('click', () => {
      const isDark = document.documentElement.classList.toggle('dark');
      localStorage.setItem('site-theme', isDark ? 'dark' : 'light');
      themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
    });

    const canvas = document.getElementById('glCanvas');
    const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, 1, 0.1, 1000);
    camera.position.z = 45;

    function onResize() {
      const rect = canvas.getBoundingClientRect();
      renderer.setSize(rect.width, rect.height);
      camera.aspect = rect.width / rect.height;
      camera.updateProjectionMatrix();
    }

    const particles = new THREE.BufferGeometry();
    const count = 1200;
    const positions = new Float32Array(count * 3);
    for (let i = 0; i < count; i++) {
      const phi = Math.acos(2 * Math.random() - 1);
      const theta = 2 * Math.PI * Math.random();
      const r = 15 + Math.random() * 6;
      positions[i * 3] = r * Math.sin(phi) * Math.cos(theta);
      positions[i * 3 + 1] = r * Math.sin(phi) * Math.sin(theta);
      positions[i * 3 + 2] = r * Math.cos(phi);
    }
    particles.setAttribute('position', new THREE.BufferAttribute(positions, 3));
    const material = new THREE.PointsMaterial({ size: 0.22, transparent: true });
    const points = new THREE.Points(particles, material);
    scene.add(points);

    const wire = new THREE.LineSegments(
      new THREE.WireframeGeometry(new THREE.SphereGeometry(16, 32, 32)),
      new THREE.LineBasicMaterial({ opacity: 0.15, transparent: true })
    );
    scene.add(wire);
    
    let rot = 0;
    function animate() {
      rot += 0.0025;
      points.rotation.y = rot * 0.9;
      wire.rotation.y = -rot * 0.6;
      renderer.render(scene, camera);
      requestAnimationFrame(animate);
    }

    function fitCanvas() {
      onResize();
    }

    window.addEventListener('resize', onResize);
    setTimeout(() => { fitCanvas(); animate(); }, 50);

    let pointerX = 0, pointerY = 0;
    function onPointer(e) {
      const x = (e.clientX || e.touches?.[0]?.clientX || window.innerWidth / 2) - window.innerWidth / 2;
      const y = (e.clientY || e.touches?.[0]?.clientY || window.innerHeight / 2) - window.innerHeight / 2;
      pointerX = x / window.innerWidth * 2;
      pointerY = y / window.innerHeight * 2;
      points.rotation.x = pointerY * 0.3;
      points.rotation.y = rot + pointerX * 0.6;
    }
    window.addEventListener('pointermove', onPointer);
    window.addEventListener('touchmove', onPointer);

    const toggleBtn = document.getElementById('toggleMode');
    let mode = 0;
    toggleBtn.addEventListener('click', () => {
      mode = (mode + 1) % 3;
      if (mode === 0) material.size = 0.22;
      if (mode === 1) material.size = 0.6;
      if (mode === 2) material.size = 0.02;
    });

  document.getElementById('screenshot').addEventListener('click', () => {
      try {
        const data = renderer.domElement.toDataURL('image/png');
        const a = document.createElement('a');
        a.href = data;
        a.download = 'screenshot.png';
        a.click();
      } catch (e) { alert('Tidak dapat mengambil screenshot di browser ini'); }
    });

  </script>
</body>
        </html>
